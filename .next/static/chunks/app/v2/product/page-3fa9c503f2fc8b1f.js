(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[197],{9322:function(e,c,r){Promise.resolve().then(r.bind(r,1911))},1911:function(e,c,r){"use strict";r.r(c),r.d(c,{default:function(){return t}});var s=r(251),i=r(70),a=r(2421),n=r(7255);function t(){let e="http://localhost:3000/api",{register:c,handleSubmit:r}=(0,a.cI)(),[t,l]=(0,n.useState)([]),[d,o]=(0,n.useState)([]);async function u(){let c=await fetch("".concat(e,"/product"));l(await c.json())}async function h(){let c=await fetch("".concat(e,"/category"));o(await c.json())}let m=c=>async()=>{confirm("Are you sure?")&&(await fetch("".concat(e,"/product/").concat(c),{method:"DELETE"}),u())};return(0,n.useEffect)(()=>{h(),u()},[]),(0,s.jsxs)("div",{className:"flex flex-row gap-4",children:[(0,s.jsx)("div",{className:"flex-1 w-64 ",children:(0,s.jsx)("form",{onSubmit:r(c=>{fetch("".concat(e),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}).then(()=>u())}),children:(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 m-4 w-1/2",children:[(0,s.jsx)("div",{children:"Code:"}),(0,s.jsx)("div",{children:(0,s.jsx)("input",{name:"code",type:"text",...c("code",{required:!0}),className:"border border-black w-full"})}),(0,s.jsx)("div",{children:"Name:"}),(0,s.jsx)("div",{children:(0,s.jsx)("input",{name:"name",type:"text",...c("name",{required:!0}),className:"border border-black w-full"})}),(0,s.jsx)("div",{children:"Description:"}),(0,s.jsx)("div",{children:(0,s.jsx)("textarea",{name:"description",...c("description",{required:!0}),className:"border border-black w-full"})}),(0,s.jsx)("div",{children:"Price:"}),(0,s.jsx)("div",{children:(0,s.jsx)("input",{name:"name",type:"number",...c("price",{required:!0}),className:"border border-black w-full"})}),(0,s.jsx)("div",{children:"Category:"}),(0,s.jsx)("div",{children:(0,s.jsx)("select",{name:"category",...c("category",{required:!0}),className:"border border-black w-full",children:d.map(e=>(0,s.jsx)("option",{value:e._id,children:e.name},e._id))})}),(0,s.jsx)("div",{className:"col-span-2",children:(0,s.jsx)("input",{type:"submit",value:"Add",className:"bg-blue-800 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full"})})]})})}),(0,s.jsxs)("div",{className:"border m-4 bg-slate-300 flex-1 w-64",children:[(0,s.jsxs)("h1",{className:"text-2xl",children:["Products (",t.length,")"]}),(0,s.jsx)("ul",{className:"list-disc ml-8",children:t.map(e=>(0,s.jsxs)("li",{children:[(0,s.jsx)("button",{className:"border border-black p-1/2",onClick:m(e._id),children:"‚ùå"})," ",(0,s.jsx)(i.default,{href:"/product/".concat(e._id),className:"font-bold",children:e.name})," ","- ",e.description]},e._id))})]})]})}}},function(e){e.O(0,[755,223,429,744],function(){return e(e.s=9322)}),_N_E=e.O()}]);
"use strict";(()=>{var e={};e.id=500,e.ids=[500],e.modules={1185:e=>{e.exports=require("mongoose")},399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},5285:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>g,patchFetch:()=>w,requestAsyncStorage:()=>m,routeModule:()=>l,serverHooks:()=>f,staticGenerationAsyncStorage:()=>y});var n={};r.r(n),r.d(n,{GET:()=>u,PATCH:()=>c,POST:()=>i,PUT:()=>d});var o=r(6360),a=r(445),s=r(475),p=r(1354);async function u(){return Response.json(await p.Z.find())}async function i(e){let t=await e.json();console.log(t);let r=new p.Z(t);return await r.save(),Response.json(r)}async function d(e){let{_id:t,updateData:r}=await e.json(),n=await p.Z.findByIdAndUpdate(t,r,{new:!0});return n?Response.json(n):new Response("Product not found",{status:404})}async function c(e){let{_id:t,updateData:r}=await e.json(),n=await p.Z.findByIdAndUpdate(t,r,{new:!0});return n?Response.json(n):new Response("Product not found",{status:404})}let l=new o.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/product/route",pathname:"/api/product",filename:"route",bundlePath:"app/api/product/route"},resolvedPagePath:"/Users/enzo/Desktop/AU/WebAppDev/WebDev12-next-mongo/app/api/product/route.js",nextConfigOutput:"",userland:n}),{requestAsyncStorage:m,staticGenerationAsyncStorage:y,serverHooks:f}=l,g="/api/product/route";function w(){return(0,s.patchFetch)({serverHooks:f,staticGenerationAsyncStorage:y})}},1354:(e,t,r)=>{r.d(t,{Z:()=>s});var n=r(1185),o=r.n(n);let a=new(o()).Schema({code:{type:String,required:!0},name:{type:String,required:!0},description:{type:String,required:!0},price:{type:Number,required:!0},category:{type:o().Schema.Types.ObjectId,ref:"category",default:null}}),s=o().models.product||o().model("product",a)},6360:(e,t,r)=>{e.exports=r(517)}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[603],()=>r(5285));module.exports=n})();